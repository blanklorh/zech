<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Valentine's Day Surprise</title>
<style>
  /* Pixelated retro game style */
  @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    width: 430px; /* iPhone 16 width */
    height: 932px; /* iPhone 16 height */
    margin: auto;
    font-family: 'Press Start 2P', cursive;
    background: url('Background.png') no-repeat center center/cover;
    overflow: hidden;
    position: relative;
  }

  h1 {
    text-align: center;
    margin-top: 50px;
    color: #fff;
    font-size: 16px;
    text-shadow: 2px 2px 0 #000;
  }

  .buttons {
    position: absolute;
    bottom: 100px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 70px;
  }

  button {
    font-family: 'Press Start 2P', cursive;
    font-size: 12px;
    padding: 10px 20px;
    cursor: pointer;
    background-color: #ff4d6d;
    color: #fff;
    border: 2px solid #fff;
    border-radius: 4px;
    box-shadow: 2px 2px #000;
    transition: all 0.2s;
    position: relative;
  }

  button:active {
    transform: translateY(2px);
    box-shadow: none;
  }

  .popup {
    display: none;
    position: absolute;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.8);
    top: 0;
    left: 0;
    z-index: 10;
    text-align: center;
    color: #fff;
  }

  .popup img {
    max-width: 80%;
    margin-top: 50px;
    image-rendering: pixelated;
  }

  .popup h2 {
    margin-top: 30px;
    font-size: 14px;
    text-shadow: 2px 2px #ff69b4;
  }

  /* Fireworks placeholder */
  .fireworks {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
</style>
</head>
<body>

<h1>Hai BB, Will you be my Valentine?</h1>

<!-- Tenor GIF Embed -->
<div class="tenor-gif-embed" data-postid="1312436877492002001" data-share-method="host" data-aspect-ratio="0.995745" data-width="100%">
  <a href="https://tenor.com/view/peach-goma-gif-1312436877492002001">Peach Goma Sticker</a> from 
  <a href="https://tenor.com/search/peach+goma-stickers">Peach Goma Stickers</a>
</div>
<script type="text/javascript" async src="https://tenor.com/embed.js"></script>

<div class="buttons">
  <button id="yesBtn">Yes</button>
  <button id="noBtn">No</button>
</div>

<!-- Popup after Yes -->
<div class="popup" id="popup">
  <img src="fireworks.gif" alt="Fireworks">
  <h2>I knew it, MINE!!! &lt;3</h2>
</div>

<!-- Fireworks canvas (optional) -->
<canvas class="fireworks" id="fireworksCanvas"></canvas>

<!-- Background music -->
<audio id="bgMusic" src="shine-your-light.mp3" loop autoplay></audio>
<audio id="coinSound" src="Coin.mp3"></audio>

<script>
  const yesBtn = document.getElementById('yesBtn');
  const noBtn = document.getElementById('noBtn');
  const popup = document.getElementById('popup');
  const coinSound = document.getElementById('coinSound');

  const btnDistance = 113.39; // px radius for No button movement

  // Yes button click
  yesBtn.addEventListener('click', () => {
    popup.style.display = 'block';
    coinSound.play();
  });

  // No button movement
  noBtn.addEventListener('mouseover', () => {
    const yesRect = yesBtn.getBoundingClientRect();
    const parentRect = document.body.getBoundingClientRect();

    let newX, newY;
    let attempts = 0;
    do {
      const angle = Math.random() * 2 * Math.PI;
      const radius = Math.random() * btnDistance;
      newX = noBtn.offsetLeft + radius * Math.cos(angle);
      newY = noBtn.offsetTop + radius * Math.sin(angle);
      attempts++;
      // ensure no overlap with Yes button
    } while (
      (newX + noBtn.offsetWidth > yesRect.left && newX < yesRect.right &&
       newY + noBtn.offsetHeight > yesRect.top && newY < yesRect.bottom) &&
      attempts < 100
    );

    // Keep inside parent bounds
    newX = Math.min(Math.max(newX, 0), parentRect.width - noBtn.offsetWidth);
    newY = Math.min(Math.max(newY, 0), parentRect.height - noBtn.offsetHeight);

    noBtn.style.left = newX + 'px';
    noBtn.style.top = newY + 'px';
    noBtn.style.position = 'absolute';
  });
</script>

</body>
</html>
